<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gameday Lines</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f7f7f7;
      margin: 0;
      padding: 20px;
      color: #222;
    }
    h1 {
      text-align: center;
      color: #00274C;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
      background: white;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 12px;
      text-align: center;
    }
    th {
      background-color: #00274C;
      color: #FFD700;
    }
    tr:nth-child(even) {
      background-color: #f2f2f2;
    }
    button {
      background-color: #00274C;
      color: #FFD700;
      border: none;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 4px;
    }
    button:hover {
      background-color: #001d3d;
    }
    #betslip {
      max-width: 400px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border: 2px solid #00274C;
      border-radius: 8px;
    }
    #betslip h2 {
      color: #00274C;
      text-align: center;
    }
    .bet-item {
      border-bottom: 1px solid #ccc;
      padding: 8px 0;
    }
    .bet-item button {
      background-color: #ccc;
      color: #00274C;
      padding: 4px 8px;
      font-size: 12px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
    }
    input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }
    @media (max-width: 600px) {
      body {
        padding: 10px;
      }
      #betslip {
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <h1>Gameday Lines</h1>

  <table id="oddsTable">
    <thead>
      <tr>
        <th>Team</th>
        <th>Spread</th>
        <th>Moneyline</th>
        <th>Total</th>
      </tr>
    </thead>
    <tbody id="tableBody"></tbody>
  </table>

  <div id="betslip">
    <h2>Bet Slip</h2>
    <div id="bets"></div>
    <label for="wagerAmount">Wager Amount ($):</label>
    <input type="number" id="wagerAmount" value="10" min="1">
    <p id="finalOdds">Final Odds: N/A</p>
    <p id="potentialPayout">Potential Payout: N/A</p>
    <a id="betNowLink" href="#"><button id="sendBet">Bet Now</button></a>
  </div>

  <script>
    const matchups = [
      {
        game: "Lakers vs Celtics",
        teams: [
          { name: "Lakers", spread: "-2 (-110)", moneyline: "+140", total: "O210.5 (-110)" },
          { name: "Celtics", spread: "+2 (-110)", moneyline: "-160", total: "U210.5 (-110)" }
        ]
      },
      {
        game: "Cowboys vs Eagles",
        teams: [
          { name: "Cowboys", spread: "-3 (-110)", moneyline: "+120", total: "O48.5 (-110)" },
          { name: "Eagles", spread: "+3 (-110)", moneyline: "-140", total: "U48.5 (-110)" }
        ]
      },
      {
        game: "Yankees vs Red Sox",
        teams: [
          { name: "Yankees", spread: "-1.5 (+150)", moneyline: "-130", total: "O9 (-110)" },
          { name: "Red Sox", spread: "+1.5 (-170)", moneyline: "+110", total: "U9 (-110)" }
        ]
      },
      {
        game: "Packers vs Bears",
        teams: [
          { name: "Packers", spread: "-4 (-110)", moneyline: "-150", total: "O44.5 (-110)" },
          { name: "Bears", spread: "+4 (-110)", moneyline: "+130", total: "U44.5 (-110)" }
        ]
      }
    ];

    const tableBody = document.getElementById('tableBody');
    const betSlip = document.getElementById('bets');
    let betItems = [];

    function americanOddsToDecimal(odds) {
      odds = parseInt(odds);
      if (odds > 0) {
        return (odds / 100) + 1;
      } else {
        return (100 / Math.abs(odds)) + 1;
      }
    }

    function calculateParlayOdds() {
      return betItems.reduce((total, bet) => total * americanOddsToDecimal(bet.odds), 1).toFixed(2);
    }

    function updateSlip() {
      betSlip.innerHTML = '';
      betItems.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'bet-item';
        div.textContent = `${item.game} - ${item.team} (${item.type} at ${item.odds > 0 ? '+' : ''}${item.odds})`;
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'X';
        removeBtn.onclick = () => removeBet(index);
        div.appendChild(removeBtn);
        betSlip.appendChild(div);
      });

      const finalOdds = betItems.length ? calculateParlayOdds() : 'N/A';
      document.getElementById('finalOdds').textContent = `Final Odds: ${finalOdds}`;

      const wagerAmount = parseFloat(document.getElementById('wagerAmount').value) || 0;
      const payout = betItems.length ? (wagerAmount * finalOdds).toFixed(2) : 'N/A';
      document.getElementById('potentialPayout').textContent = `Potential Payout: $${payout}`;
    }

    function removeBet(index) {
      betItems.splice(index, 1);
      updateSlip();
      updateLink();
    }

    function addBet(bet) {
      if (!betItems.find(b => b.game === bet.game && b.team === bet.team && b.type === bet.type)) {
        betItems.push(bet);
        updateSlip();
        updateLink();
      }
    }

    function updateLink() {
      const wagerAmount = parseFloat(document.getElementById('wagerAmount').value) || 0;
      const finalOdds = betItems.length ? calculateParlayOdds() : 'N/A';
      const payout = betItems.length ? (wagerAmount * finalOdds).toFixed(2) : 'N/A';

      let message = `Bet Slip:%0A`;
      betItems.forEach(item => {
        message += `${item.game} - ${item.team} (${item.type} at ${item.odds > 0 ? '+' : ''}${item.odds})%0A`;
      });
      message += `Wager: $${wagerAmount}%0A`;
      message += `Final Odds: ${finalOdds}%0A`;
      message += `Payout: $${payout}`;

      const encoded = encodeURIComponent(message);
      document.getElementById('betNowLink').href = `sms:+16175830712?body=${encoded}`;
    }

    document.getElementById('wagerAmount').addEventListener('input', () => {
      updateSlip();
      updateLink();
    });

    matchups.forEach(matchup => {
      matchup.teams.forEach(team => {
        const row = document.createElement('tr');

        const teamCell = document.createElement('td');
        teamCell.textContent = team.name;
        row.appendChild(teamCell);

        ['spread', 'moneyline', 'total'].forEach(type => {
          const cell = document.createElement('td');
          const parts = team[type].match(/(.+?) \(([-+]\d+)\)/);
          if (parts) {
            const label = parts[1];
            const odds = parts[2];
            const button = document.createElement('button');
            button.textContent = `${label} ${odds}`;
            button.onclick = () => addBet({ game: matchup.game, team: team.name, type, odds });
            cell.appendChild(button);
          } else {
            const button = document.createElement('button');
            button.textContent = team[type];
            button.onclick = () => addBet({ game: matchup.game, team: team.name, type, odds: team[type].replace(/[^\d\-+]/g, '') });
            cell.appendChild(button);
          }
          row.appendChild(cell);
        });

        tableBody.appendChild(row);
      });
    });
  </script>
</body>
</html>